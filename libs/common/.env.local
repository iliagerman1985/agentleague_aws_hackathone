# Local development environment configuration
# This file contains non-secret configuration values and is committed to git
# Secrets are stored in secrets.yaml (not committed)

# Application settings
APP_ENV=local
DEBUG=True
LOG_LEVEL=info
ALLOWED_HOSTS=localhost,127.0.0.1

# API settings
API_PREFIX=/api/v1
PROJECT_NAME=Agent League

# Server settings
HOST=0.0.0.0
PORT=9998

# CORS settings
# Including common development ports for devcontainer and local development
CORS_ORIGINS=http://localhost:5888,http://localhost:3000,http://127.0.0.1:5888,http://127.0.0.1:3000

# Logging settings
LOG_LEVEL=INFO
# Use human-readable console format for local development (set to false for readable logs)
LOG_JSON_FORMAT=false
LOG_JSON_PRETTY=false
LOG_CONSOLE_OUTPUT=True
LOG_FILE_OUTPUT=False
LOG_FILE_PATH=logs/app.log
LOG_ROTATION=20 MB
LOG_RETENTION=1 week
LOG_COMPRESSION=zip

# Local development settings
USE_LOCALSTACK=True
USE_AWS_SECRET_MANAGER=false
LOCALSTACK_ENDPOINT=http://localhost:4566

# Cognito configuration for local development (using LocalStack)
COGNITO_REGION=us-east-1
COGNITO_POOL_NAME=AgentLeague
COGNITO_CLIENT_NAME=AgentLeague
# These will be set by LocalStack
COGNITO_USER_POOL_ID=us-east-1_Vatg7HDwE
COGNITO_CLIENT_ID=29cjti5omhe6b7l94j9af4qop9
# OAuth configuration
COGNITO_DOMAIN=https://login.agentleague.app
COGNITO_CALLBACK_URL=http://localhost:5888/auth/callback

# Use mock Cognito service for local development
USE_MOCK_COGNITO=false

# Local database (connection details in secrets.yaml)
# DATABASE_URL will be loaded from secrets.yaml

# ============================================================================
# AGENT RUNNER CONFIGURATION
# ============================================================================
# Local environments support multiple runners: direct, localhost, agentcore
# AGENT_RUNNER=direct  -> Run agents directly in the backend process
# AGENT_RUNNER=localhost -> Connect to local AgentCore service
# AGENT_RUNNER=agentcore -> Connect to AWS AgentCore
AGENT_RUNNER=localhost
AGENTCORE_RUNTIME_ARN=arn:aws:bedrock-agentcore:us-east-1:619403130674:runtime/agentleague_development_runtime-hg8tan7IE6

# ============================================================================
# AGENTCORE RUNTIME CONFIGURATION
# ============================================================================
# These settings are used by the application runtime to connect to AgentCore

# Required when AGENT_RUNNER=localhost: URL of local AgentCore service
AGENTCORE_ENDPOINT_URL=http://localhost:8765

# Stripe checkout redirect URLs (non-secret)
STRIPE_SUCCESS_URL=http://localhost:5888/billing/success
STRIPE_CANCEL_URL=http://localhost:5888/billing/cancel

# Chess Analysis Settings
# Stockfish is symlinked to /usr/local/bin/stockfish (from /usr/games/stockfish)
STOCKFISH_PATH=stockfish
STOCKFISH_ANALYSIS_DEPTH=15
STOCKFISH_ANALYSIS_TIME_LIMIT=1.0
ENABLE_CHESS_ANALYSIS=true

# Game turn processing queue (SQS)
GAME_TURN_SQS_QUEUE_URL=http://sqs.us-east-1.localhost.localstack.cloud:4566/000000000000/game-queue

# Game analysis processing queue (SQS)
GAME_ANALYSIS_SQS_QUEUE_URL=http://sqs.us-east-1.localhost.localstack.cloud:4566/000000000000/game-analysis-queue

# AWS Bedrock Guardrails Configuration
# Both local and development environments use the same guardrails
GUARDRAIL_AGENT_INSTRUCTIONS_ID=j4so9vifxi4t
GUARDRAIL_AGENT_INSTRUCTIONS_VERSION=3
GUARDRAIL_TOOL_CREATION_ID=rmyxa0czn6wy
GUARDRAIL_TOOL_CREATION_VERSION=1
